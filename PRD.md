# 세방산업 SCM 통합관리 시스템 PRD (Product Requirements Document)

## 문서 정보

- **프로젝트명**: 세방산업 SCM (Supply Chain Management) 통합관리 시스템
- **버전**: 2.0
- **작성일**: 2025-12-18
- **작성자**: 개발팀
- **상태**: 개발 완료 및 고도화 진행 중

---

## 1. 개요

### 1.1 프로젝트 배경

세방산업은 배터리 분리막 제조 기업으로, 삼성SDI, 현대자동차 등 주요 고객사와의 공급망 관리를 효율화하기 위해 ERP, MES, WMS, QMS를 통합한 SCM 시스템이 필요합니다. 본 시스템은 거래처 주문부터 제조, 품질검사, 입고, 출하까지 전 과정을 디지털화하여 실시간 통합 관리를 목표로 합니다.

### 1.2 프로젝트 목표

- **발주부터 출하까지 전 과정의 디지털화 및 자동화**
- **HQ(본사) 중심의 통합 관리 체계 구축**
- **ERP, MRP, MES, QMS, WMS 시스템 간 실시간 연동**
- **주문 처리 프로세스의 표준화 및 추적 가능성 확보**
- **실시간 재고, 생산, 품질, 출하 현황 파악**
- **업무 효율성 향상 및 오류 감소**
- **데이터 기반 의사결정 지원**

### 1.3 범위

#### 1.3.1 핵심 업무 프로세스

1. **주문관리 (Order Management)**

   - 거래처 주문 접수 및 등록
   - 주문 승인 및 우선순위 관리
   - HQ를 통한 주문 통합 관리

2. **생산관리 (Production Management)**

   - MRP 기반 생산 계획 수립
   - ERP 연동 자재 및 장애 계산
   - MES/QMS 연동 생산 실적 관리
   - 품질검사 및 불량 관리

3. **재고관리 (Warehouse Management)**

   - 생산 완료 내역 창고 입고 관리 (WMS 연동)
   - 실시간 재고 현황 조회
   - 품목별 재고 추적

4. **출하관리 (Shipping Management)**

   - 출하 계획 수립
   - 출하 지시 및 실행
   - 물류센터 연동 배송 관리

5. **통합 대시보드 및 분석**
   - 역할별 맞춤형 대시보드
   - 주요 KPI 실시간 모니터링
   - 생산·품질·재고·출하 통합 현황

#### 1.3.2 시스템 통합 범위

- **HQ (본사 시스템)**: 전체 주문 및 현황 통합 관리
- **ERP (전사적 자원관리)**: 자재, 재무, 인력 관리
- **MRP (자재소요계획)**: 생산 계획 및 자재 소요 계산
- **MES/QMS (제조실행/품질관리)**: 생산 실적 및 품질 데이터 수집
- **WMS (창고관리)**: 입고, 재고, 출고 관리
- **물류센터**: 출하 및 배송 관리

---

## 2. 시스템 아키텍처

### 2.1 전체 시스템 구성도

```
                                   [제조]
                                     |
                 [제조] ----------[입고] (4대 입고계획)
           ┌──────┴──────┐           |
        [거래처]         [HQ] ──── [수주] ───────────┐
           |              |          |              |
           └──────────────┼──────────┘              |
                          |                         |
                        [ERP] ────┬──── [장애계산] ──┤
                          |       |                 |
                      [MRP] ──────┤                 |
                          |       |                 |
                        [EDP] ────┤                 |
                          |       |                 |
                  ┌──────[WMS]    |                 |
                  |       |       |                 |
                  |   [MES/QMS]   |                 |
                  |       |       |                 |
              [물류센터] [생산실적/품질검사]         |
                  |       |                         |
                  └───[출하계획/출하지시]────────────┘
```

### 2.2 데이터 흐름 (Workflow)

```
1. [거래처] → 주문 발주
           ↓
2. [HQ] → 주문 수신 및 통합 관리
           ↓
3. [주문담당자] → 주문 승인 + 우선순위 설정
           ↓
4. [ERP] → 자재 가용성 확인 + 장애계산
           ↓
5. [MRP] → 생산 계획 수립 (자재소요계획)
           ↓
6. [MES/QMS] → 생산 실행 + 실시간 생산 실적 수집
           ↓
7. [품질검사] → 품질 검사 + 합격/불합격 판정
           ↓
8. [제조담당자] → 생산 완료 → 입고 등록
           ↓
9. [WMS] → 재고 관리
           ↓
10. [주문담당자] → 재고 확인 → 출하 계획 수립
           ↓
11. [출하지시] → 출하 실행 지시
           ↓
12. [물류센터] → 배송 및 납품
           ↓
13. [거래처] → 납품 확인
           ↓
14. [완료]
```

### 2.3 시스템 연동 인터페이스

| 소스 시스템 | 타겟 시스템 | 연동 데이터    | 연동 방식 | 주기   |
| ----------- | ----------- | -------------- | --------- | ------ |
| 거래처      | HQ          | 주문 데이터    | API/EDI   | 실시간 |
| HQ          | ERP         | 주문 정보      | API       | 실시간 |
| ERP         | MRP         | 자재 소요      | 배치      | 1시간  |
| MRP         | MES         | 생산 계획      | API       | 실시간 |
| MES         | QMS         | 생산 실적      | API       | 실시간 |
| QMS         | WMS         | 품질 합격 내역 | API       | 실시간 |
| WMS         | 출하계획    | 가용 재고      | API       | 실시간 |
| 출하계획    | 물류센터    | 출하 지시      | EDI       | 실시간 |

---

## 3. 사용자 및 역할

### 3.1 사용자 역할

#### 3.1.1 거래처/발주사 (Customer)

- **설명**: 주문을 발주하는 고객사 담당자
- **예시**: 삼성SDI, 현대자동차, LG에너지솔루션
- **접근 시스템**: 거래처 포털, HQ
- **권한**:
  - 주문 등록 및 조회
  - 본사 주문 현황 확인
  - 주문 상태 실시간 조회
  - 출하 예정 및 배송 추적
  - 납품 확인 및 검수

#### 3.1.2 주문담당자 (Order Manager)

- **설명**: 세방산업의 주문 관리 및 출하 계획 담당자
- **접근 시스템**: HQ, ERP, MRP, WMS, 출하계획
- **권한**:
  - 주문 승인/거부
  - 우선순위 설정
  - 출하 계획 수립 및 지시
  - 전체 주문 현황 관리
  - 재고 현황 조회
  - 물류센터 출하 지시
  - 거래처 커뮤니케이션

#### 3.1.3 제조담당자 (Manufacturing Manager)

- **설명**: 세방산업의 생산 및 입고 관리 담당자
- **접근 시스템**: MRP, MES, QMS, WMS
- **권한**:
  - 생산 계획 확인
  - 생산 실적 모니터링
  - 품질 검사 결과 확인
  - 생산 완료 내역 창고 입고 등록
  - 입고 내역 조회
  - 생산 주문 현황 확인
  - 불량 처리 및 재작업 지시

#### 3.1.4 품질담당자 (Quality Manager)

- **설명**: 품질 검사 및 품질 관리 담당자
- **접근 시스템**: QMS, MES
- **권한**:
  - 품질 검사 실행
  - 합격/불합격 판정
  - 불량 유형 분류 및 기록
  - 품질 데이터 분석
  - 품질 보고서 생성

#### 3.1.5 물류담당자 (Logistics Manager)

- **설명**: 출하 실행 및 배송 관리 담당자
- **접근 시스템**: WMS, 물류센터, 출하지시
- **권한**:
  - 출하 지시 확인
  - 피킹 및 패킹 관리
  - 배송 차량 배정
  - 배송 추적
  - 납품 완료 확인

#### 3.1.6 시스템 관리자 (System Admin)

- **설명**: 시스템 전체 관리 및 설정
- **권한**:
  - 사용자 계정 관리
  - 권한 설정
  - 시스템 설정 변경
  - 로그 조회 및 모니터링
  - 데이터 백업 및 복구

---

## 4. 기능 요구사항

### 4.1 주문 관리 (Order Management)

#### 4.1.1 주문 등록

**기능 설명**: 거래처가 HQ를 통해 새로운 주문을 등록

**상세 요구사항**:

- **수동 주문 등록**

  - 주문번호: 자동 생성 (형식: ORD-YYYY-MMDD-NNN)
  - 주문일자: 날짜 선택
  - 주문구분: 긴급/일반 선택
  - 거래처: 자동 입력 (로그인 사용자 회사명)
  - 납품 요청일: 필수 입력
  - 주문 상세 항목 추가:
    - 품목코드 (필수, 품목 마스터 연동)
    - 품목명 (필수)
    - 규격 (선택)
    - 주문수량 (필수, 1 이상)
    - 단가 (필수, 0 이상)
    - 출하예정일 (선택)
    - 특이사항 (선택)
  - 여러 항목 추가 가능
  - 등록 전 주문 상세 목록 확인 및 수정/삭제 가능
  - 총 주문 금액 자동 계산

- **엑셀 업로드 주문 등록**

  - 엑셀 템플릿 다운로드 제공
  - 템플릿 형식:
    - 필수 컬럼: 품목코드, 품목명, 주문수량, 단가
    - 선택 컬럼: 규격, 출하예정일, 특이사항
  - 엑셀 파일 업로드 및 파싱
  - 데이터 검증 (품목코드 유효성, 수량/단가 범위 등)
  - 오류 리포트 제공 (행 번호, 오류 내용)
  - 주문 마스터 정보 입력 후 일괄 등록
  - HQ로 자동 전송

- **HQ 연동**
  - 주문 등록 시 HQ 시스템으로 실시간 전송
  - 주문 수신 확인 응답
  - 주문 번호 채번 동기화

**비기능 요구사항**:

- 주문번호는 연도-월일별로 자동 증가
- 데이터 검증 실패 시 명확한 오류 메시지 제공
- 엑셀 파일 크기 제한: 10MB 이하
- HQ 연동 타임아웃: 5초
- 연동 실패 시 재시도 로직 (최대 3회)

**사용자 스토리**:

> **As a** 거래처 담당자  
> **I want to** HQ를 통해 주문을 등록하고  
> **So that** 세방산업에 제품을 주문하고 주문 상태를 추적할 수 있다

---

#### 4.1.2 주문 승인

**기능 설명**: 주문담당자가 HQ에서 수신된 주문을 검토하고 승인/거부

**상세 요구사항**:

- **주문 목록 조회**

  - 상태별 필터링 (전체/대기/승인/생산중/입고완료/출하완료/거부)
  - 주문구분별 필터링 (전체/긴급/일반)
  - 거래처별 필터링
  - 주문번호/품목명 검색
  - 우선순위 및 주문일자 기준 정렬
  - 긴급 주문 상단 고정 표시
  - 대기 기간 표시 (주문 등록 후 경과 시간)

- **주문 상세 확인**

  - 주문 마스터 정보 표시
  - 거래처 정보 표시
  - 주문 상세 항목 목록 표시
  - 총 주문금액 계산 및 표시
  - 과거 주문 이력 조회
  - 거래처 신용 정보 확인 (ERP 연동)

- **자재 가용성 확인 (ERP 연동)**

  - 주문 품목별 현재 재고 조회
  - 안전 재고 수준 확인
  - 자재 소요 계산 (MRP 연동)
  - 장애 요인 자동 계산 및 표시
  - 납기 가능 여부 판단

- **주문 승인/거부**
  - 대기 상태 주문만 승인/거부 가능
  - **승인 시**:
    - 우선순위 설정 (1~9 레벨, 기본값: 5)
    - 납기일 확인 및 조정
    - 승인자 정보 자동 기록
    - 승인일시 자동 기록
    - 상태 변경: 대기 → 승인
    - ERP 시스템으로 승인 정보 전송
    - MRP 생산 계획 자동 생성 트리거
  - **거부 시**:
    - 거부 사유 필수 입력
    - 상태 변경: 대기 → 거부
    - 거래처에게 거부 알림 (선택)
  - 승인된 주문은 생산중 상태로 수동 변경 가능
  - 일괄 승인 기능 (다중 선택)

**비기능 요구사항**:

- 긴급 주문은 시각적으로 강조 표시 (빨간색 배지)
- 승인/거부 이력 추적 가능 (감사 로그)
- ERP 연동 실패 시 롤백 처리
- 대기 시간 3일 초과 주문 경고 알림

**사용자 스토리**:

> **As a** 주문담당자  
> **I want to** HQ에서 수신된 주문을 검토하고 승인하며 우선순위를 설정하여  
> **So that** 자재 가용성을 확인하고 효율적인 생산 계획을 수립할 수 있다

---

### 4.2 생산 관리 (Production Management)

#### 4.2.1 생산 계획 수립 (MRP)

**기능 설명**: 승인된 주문을 기반으로 MRP 시스템에서 생산 계획 자동 생성

**상세 요구사항**:

- **생산 계획 자동 생성**

  - 승인된 주문 자동 수신
  - 납기일 기준 역산 스케줄링
  - 우선순위 기반 생산 순서 결정
  - 자재 소요 계산 (BOM 기반)
  - 생산 능력(Capacity) 고려
  - 설비별 생산 가능량 확인
  - 작업장별 부하 분석

- **자재 소요 계산**

  - BOM(Bill of Materials) 기반 소요 산출
  - 현재 재고 확인 (WMS 연동)
  - 부족 자재 리스트 생성
  - 발주 요청 생성 (ERP 연동)
  - 자재 입고 예정일 확인

- **장애 요인 계산 (ERP 연동)**

  - 자재 부족
  - 설비 가동 불가
  - 인력 부족
  - 품질 이슈
  - 기타 제약 사항
  - 장애 해결 방안 제시

- **생산 계획 조정**
  - 수동 일정 조정 기능
  - 우선순위 변경 반영
  - 긴급 주문 삽입
  - 계획 시뮬레이션
  - 변경 이력 관리

**비기능 요구사항**:

- 생산 계획 생성 시간: 5분 이내
- MES 시스템으로 자동 전송
- 계획 변경 시 실시간 반영
- 장애 요인 발생 시 알림

**사용자 스토리**:

> **As a** 생산계획 담당자  
> **I want to** 승인된 주문을 기반으로 최적의 생산 계획을 자동으로 생성하여  
> **So that** 납기를 준수하고 자재와 설비를 효율적으로 사용할 수 있다

---

#### 4.2.2 생산 실행 및 실적 관리 (MES)

**기능 설명**: MES 시스템에서 생산 실행 및 실시간 생산 실적 수집

**상세 요구사항**:

- **생산 지시**

  - MRP에서 생산 계획 수신
  - 작업장별 작업 지시서 생성
  - 작업자 배정
  - 자재 불출 지시 (WMS 연동)
  - 설비 가동 지시

- **생산 실적 수집**

  - 실시간 생산 수량 집계
  - 작업 시작/종료 시간 기록
  - 설비 가동 시간 기록
  - 작업자별 작업 시간 기록
  - 불량 수량 기록
  - 비가동 시간 및 사유 기록

- **생산 진행 모니터링**

  - 실시간 생산 현황 대시보드
  - 작업장별 진행률 표시
  - 계획 대비 실적 비교
  - 지연 작업 알림
  - 병목 공정 식별

- **생산 완료 처리**
  - 생산 완료 확인
  - 생산 실적 보고서 생성
  - QMS로 품질 검사 요청 전송
  - 상태 변경: 승인 → 생산중 → (품질검사 대기)

**비기능 요구사항**:

- 실시간 데이터 수집 (5초 주기)
- 생산 실적 데이터 정확도: 99% 이상
- 시스템 가동률: 99.9% 이상
- 데이터 백업: 1시간 주기

**사용자 스토리**:

> **As a** 제조담당자  
> **I want to** 생산 지시를 받아 작업을 실행하고 실시간 실적을 기록하여  
> **So that** 생산 현황을 정확히 파악하고 품질 검사로 연계할 수 있다

---

#### 4.2.3 품질 검사 (QMS)

**기능 설명**: 생산 완료된 제품에 대한 품질 검사 실행 및 판정

**상세 요구사항**:

- **품질 검사 대기 목록**

  - 생산 완료된 주문 자동 수신 (MES 연동)
  - 검사 대기 목록 표시
  - 우선순위 기반 정렬
  - 검사 유형 자동 분류 (전수검사/샘플링검사)

- **품질 검사 실행**

  - 검사 항목 체크리스트 표시
  - 검사 기준 자동 로드 (품목별)
  - 검사 결과 입력
    - 외관 검사
    - 치수 검사
    - 성능 검사
    - 기타 품질 항목
  - 검사 데이터 기록 (측정값, 사진 등)
  - 검사자 정보 자동 기록

- **합격/불합격 판정**

  - 자동 판정 (검사 기준 기반)
  - 수동 판정 (검사자 최종 확인)
  - **합격 시**:
    - 상태 변경: 생산중 → 입고 대기
    - WMS로 입고 가능 신호 전송
    - 합격 라벨 발행
  - **불합격 시**:
    - 불량 유형 분류
    - 불량 수량 기록
    - 재작업/폐기 결정
    - 불량 원인 분석 요청
    - 생산 담당자에게 알림

- **품질 데이터 분석**
  - 품목별 합격률 통계
  - 불량 유형별 통계
  - 트렌드 분석
  - 품질 보고서 생성

**비기능 요구사항**:

- 검사 결과 즉시 반영
- 품질 데이터 보존 기간: 5년
- 검사 이력 추적 가능
- 불량 발생 시 즉시 알림

**사용자 스토리**:

> **As a** 품질담당자  
> **I want to** 생산 완료된 제품을 검사하고 합격/불합격을 판정하여  
> **So that** 품질 기준을 충족하는 제품만 입고되고 불량을 사전에 차단할 수 있다

---

### 4.3 재고 관리 (Warehouse Management)

#### 4.3.1 입고 등록 (WMS)

**기능 설명**: 품질 검사 합격 제품을 창고에 입고 등록

**상세 요구사항**:

- **입고 가능 주문 조회**

  - QMS에서 합격 판정된 주문만 표시
  - 입고 대기 상태 주문 필터링
  - 우선순위 및 납기일 기준 정렬
  - 주문 상세 정보 표시

- **입고 등록**

  - 주문 선택
  - 주문 상세 항목별 입고 수량 입력
  - 입고일자 자동 입력 (수정 가능)
  - 입고 위치(로케이션) 지정
    - 창고 선택
    - Zone 선택
    - Rack/Bin 선택
  - 부분 입고 가능 (여러 번에 걸쳐 입고 가능)
  - 입고 수량 검증:
    - 주문 수량 초과 불가
    - 품질 합격 수량 초과 불가
  - 입고 완료 수량 및 잔량 실시간 표시
  - 로트 번호 자동 생성 및 부여
  - 바코드/RFID 라벨 발행

- **입고 완료 처리**

  - 모든 항목의 입고 수량이 주문 수량과 일치 시:
    - 자동 상태 변경: 생산중 → 입고완료
    - 주문담당자에게 알림
  - 부분 입고 시:
    - 입고 진행률 표시
    - 잔량 알림

- **입고 내역 조회**

  - 주문별 입고 이력 표시
  - 입고일자, 수량, 로케이션, 입고자 정보
  - 입고 문서(입고증) 출력
  - 엑셀 다운로드

- **재고 현황 조회**
  - 실시간 재고 수량 조회
  - 로케이션별 재고 현황
  - 품목별 재고 현황
  - 로트별 재고 추적
  - 재고 이력 조회
  - 안전 재고 수준 알림

**비기능 요구사항**:

- 입고 수량 실시간 검증
- 입고 이력 추적 가능
- 바코드 스캔 지원

**사용자 스토리**:

> **As a** 제조담당자  
> **I want to** 품질 검사 합격 제품을 창고에 입고 등록하고 로케이션을 지정하여  
> **So that** 재고를 정확히 관리하고 출하 준비를 할 수 있다

---

### 4.4 출하 관리 (Shipping Management)

#### 4.4.1 출하 계획 수립

**기능 설명**: 주문담당자가 입고 완료된 재고를 확인하고 출하 계획 수립

**상세 요구사항**:

- **재고 현황 조회 (WMS 연동)**

  - 입고 완료된 주문 목록 표시
  - 품목별 재고 현황:
    - 주문수량
    - 입고수량
    - 출하계획 수량
    - 출하완료 수량
    - 가용재고 (입고수량 - 출하계획 - 출하완료)
  - 로케이션별 재고 위치 표시
  - 로트별 유통기한 확인 (FEFO 원칙)

- **출하 계획 수립**

  - 주문 선택
  - 품목별 출하 수량 입력
  - 출하예정일 설정
  - 배송지 정보 확인
  - 배송 방법 선택 (택배/차량/특송)
  - 가용재고 범위 내에서만 출하 계획 가능
  - 부분 출하 계획 가능
  - 출하 우선순위 설정
  - 특이사항 입력

- **출하 지시 생성**

  - 출하 계획 확정
  - 출하 지시서 자동 생성
  - 피킹 리스트 생성 (로케이션 정보 포함)
  - 패킹 리스트 생성
  - 물류센터로 출하 지시 전송

- **출하 계획 내역 조회**
  - 주문별 출하 계획 목록 표시
  - 출하예정일, 수량, 상태 정보
  - 출하 진행 상태 추적
  - 지연 출하 알림

**비기능 요구사항**:

- 가용재고 실시간 계산
- 출하 계획 변경 시 물류센터에 자동 알림
- FEFO(First Expired, First Out) 원칙 준수

**사용자 스토리**:

> **As a** 주문담당자  
> **I want to** 재고 현황을 확인하고 출하 계획을 수립하여  
> **So that** 거래처에 제품을 정시에 납품할 수 있다

---

#### 4.4.2 출하 실행 (물류센터)

**기능 설명**: 물류센터에서 출하 지시를 받아 피킹, 패킹, 출고 실행

**상세 요구사항**:

- **출하 지시 수신**

  - 출하 지시서 자동 수신
  - 피킹 리스트 확인
  - 패킹 리스트 확인
  - 우선순위 기반 작업 순서 결정

- **피킹 (Picking)**

  - 로케이션별 피킹 경로 최적화
  - 바코드 스캔을 통한 피킹 확인
  - 피킹 수량 검증
  - 피킹 완료 시간 기록

- **패킹 (Packing)**

  - 패킹 리스트 기반 포장
  - 포장 단위 설정 (박스/팔레트)
  - 패킹 라벨 발행
  - 배송 라벨 발행
  - 패킹 완료 확인

- **출고 실행**

  - 출고 검수
  - 차량 배정
  - 적재 확인
  - 출고 완료 확인
  - 출고 시간 기록
  - 배송 시작 알림

- **배송 추적**
  - 배송 차량 위치 추적 (GPS)
  - 배송 상태 업데이트
  - 예상 도착 시간 계산
  - 배송 완료 확인
  - 거래처 수령 확인

**비기능 요구사항**:

- 바코드 스캔 필수
- 출고 오류율: 0.1% 이하
- 배송 추적 실시간 업데이트
- 배송 완료 시 거래처 알림

**사용자 스토리**:

> **As a** 물류담당자  
> **I want to** 출하 지시를 받아 피킹, 패킹, 출고를 실행하고 배송을 추적하여  
> **So that** 정확하고 신속하게 거래처에 제품을 배송할 수 있다

---

#### 4.4.3 출하 완료 처리

**기능 설명**: 출하 완료 및 주문 완료 처리

**상세 요구사항**:

- **출하 완료 확인**

  - 물류센터에서 출고 완료 신호 수신
  - 배송 완료 확인
  - 거래처 수령 확인 (전자서명/사진)

- **출하 데이터 업데이트**

  - 주문 상세의 출하 수량 업데이트
  - 실제 출하일자 기록
  - 출하금액 자동 계산
  - WMS 재고 차감

- **주문 완료 처리**

  - 모든 항목 출하 완료 시:
    - 주문 상태 변경: 입고완료 → 출하완료
    - 거래처에게 완료 알림
    - 송장 발행 (ERP 연동)
    - 완료 보고서 생성

- **정산 처리 (ERP 연동)**
  - 출하 금액 계산
  - 청구서 생성
  - 매출 전표 생성
  - 거래처 청구

**비기능 요구사항**:

- 출하 완료 즉시 재고 반영
- 정산 데이터 정확도: 100%
- 송장 자동 발행

**사용자 스토리**:

> **As a** 주문담당자  
> **I want to** 출하 완료를 확인하고 주문을 종료하여  
> **So that** 거래처에게 정확한 청구를 하고 주문을 완료할 수 있다

---

#### 4.4.4 출하 등록 (거래처)

**기능 설명**: 거래처가 직접 제품 수령을 확인하고 등록

**상세 요구사항**:

- **출하 예정 조회**

  - 본사 주문 중 출하 예정 목록 조회
  - 배송 추적 정보 확인
  - 도착 예정 시간 확인

- **수령 확인**

  - 제품 수령 확인
  - 수량 검수
  - 품질 확인
  - 수령 일시 기록
  - 수령자 정보 입력
  - 전자서명 또는 사진 첨부

- **이상 사항 보고**
  - 수량 불일치
  - 파손
  - 품질 문제
  - 기타 이슈
  - 반품 요청

**비기능 요구사항**:

- 모바일 접근 지원
- 전자서명 기능
- 사진 업로드 기능

**사용자 스토리**:

> **As a** 거래처 담당자  
> **I want to** 제품 수령을 확인하고 검수하여  
> **So that** 주문이 정확히 완료되었음을 확인하고 이상 사항을 즉시 보고할 수 있다

---

### 4.5 통합 대시보드 (Dashboard)

#### 4.5.1 발주사 대시보드

**기능 설명**: 거래처 맞춤형 주문 현황 대시보드

**상세 요구사항**:

- **주요 지표 (KPI)**

  - 전체 주문 수
  - 상태별 주문 수 (대기/승인/생산중/입고완료/출하완료)
  - 완료율 (%)
  - 평균 리드타임

- **주문 현황 차트**

  - 상태별 주문 분포 (Bar Chart)
  - 월별 주문 추이 (Line Chart)
  - 품목별 주문 비율 (Pie Chart)

- **최근 주문 목록**

  - 최근 10개 주문 표시
  - 주문번호, 주문일자, 상태, 진행률
  - 이모지 및 색상으로 상태 구분
  - 상세보기 버튼

- **배송 추적**

  - 출하 예정 주문 목록
  - 배송 중 주문 추적
  - 도착 예정 시간

- **빠른 액션**
  - 새 주문 등록
  - 출하 현황 확인
  - 새로고침

**비기능 요구사항**:

- 실시간 데이터 반영
- 그라데이션 메트릭 카드
- 호버 애니메이션 효과

---

#### 4.5.2 주문담당자 대시보드

**기능 설명**: 주문담당자용 통합 관리 대시보드

**상세 요구사항**:

- **주요 지표 (KPI)**

  - 전체 주문 통계 (전체/대기/승인/입고완료/출하완료)
  - 생산 진행률 (%)
  - 출하 완료율 (%)
  - 평균 처리 시간

- **긴급 주문 알림**

  - 긴급 주문 건수 배지
  - 긴급 주문 목록 (우선 표시)
  - 대기 시간 경고

- **탭 기반 레이아웃**

  - **긴급 주문 탭**: 긴급 주문 목록 + 우선순위 표시
  - **승인 대기 탭**: 승인 대기 주문 목록 + 대기 시간
  - **현황 탭**: 주문 진행 현황 차트 + 통계

- **주문 진행 현황 차트**

  - 단계별 주문 수 (Bar Chart)
  - 일별 승인 추이 (Line Chart)
  - 거래처별 주문 현황 (Table)

- **출하 예정 목록**

  - 출하 예정일별 정렬
  - 출하 준비 상태 표시

- **빠른 액션**
  - 주문승인 페이지 이동
  - 출하계획 페이지 이동
  - 새로고침

**비기능 요구사항**:

- 5개 메트릭 카드 (그라데이션)
- 긴급 주문 시각적 강조 (빨간색 배지)
- 진행률 프로그레스 바

---

#### 4.5.3 제조담당자 대시보드

**기능 설명**: 제조담당자용 생산 및 입고 관리 대시보드

**상세 요구사항**:

- **생산 현황 (KPI)**

  - 생산 대기 주문 수
  - 생산 중 주문 수
  - 생산 진행률 (%)
  - 금일 생산 실적

- **생산 진행률 표시**

  - 원형 프로그레스 바
  - 단계별 진행 상태
  - 색상별 구분 (대기/진행/완료)

- **생산 주문 목록**

  - 우선순위 기반 정렬
  - 우선순위 시각화 (🔴 긴급 / 🟡 보통 / 🟢 낮음)
  - 상태 이모지 표시
  - 품질 검사 대기 표시

- **최근 입고 내역 (타임라인 스타일)**

  - 최근 5개 입고 이력
  - 입고일자, 주문번호, 품목명
  - 타임라인 디자인

- **빠른 액션**
  - 입고 등록하기
  - 새로고침

**비기능 요구사항**:

- 생산 현황 실시간 반영
- 타임라인 스타일 디자인
- 우선순위 색상 구분

---

#### 4.5.4 품질담당자 대시보드

**기능 설명**: 품질담당자용 품질 관리 대시보드

**상세 요구사항**:

- **품질 지표 (KPI)**

  - 금일 검사 건수
  - 합격률 (%)
  - 불량률 (%)
  - 재작업률 (%)

- **검사 대기 목록**

  - 검사 대기 주문 수
  - 우선순위 기반 정렬

- **품질 통계 차트**

  - 일별 합격률 추이 (Line Chart)
  - 불량 유형별 분포 (Pie Chart)
  - 품목별 품질 현황 (Table)

- **최근 불량 이력**
  - 최근 불량 발생 내역
  - 불량 유형 및 원인

**비기능 요구사항**:

- 실시간 품질 데이터 반영
- 불량 발생 시 알림

---

#### 4.5.5 물류담당자 대시보드

**기능 설명**: 물류담당자용 출하 및 배송 관리 대시보드

**상세 요구사항**:

- **출하 지표 (KPI)**

  - 금일 출하 예정 건수
  - 출하 완료 건수
  - 배송 중 건수
  - 배송 완료 건수

- **출하 지시 목록**

  - 출하 예정일별 정렬
  - 긴급 출하 강조
  - 피킹/패킹 상태 표시

- **배송 현황 맵**

  - 배송 차량 위치 (지도)
  - 배송 경로 표시
  - 예상 도착 시간

- **피킹 대기 목록**
  - 피킹 대기 건수
  - 우선순위 정렬

**비기능 요구사항**:

- 실시간 배송 추적
- 지도 연동 (선택)

---

#### 4.5.6 공통 기능

**기능 설명**: 모든 역할에 공통으로 제공되는 기능

**상세 요구사항**:

- **최근 활동 내역**

  - 전체 시스템 최근 활동 로그 (최대 10개)
  - 일시, 활동 내용, 담당자, 상태
  - 활동 유형별 이모지 표시
  - 실시간 업데이트

- **마지막 업데이트 시간**

  - 대시보드 상단에 실시간 업데이트 시간 표시
  - 자동 새로고침 옵션

- **Empty State (빈 상태)**
  - 데이터가 없을 때 친절한 안내 메시지
  - 액션 버튼 제공

**비기능 요구사항**:

- 실시간 데이터 반영 (5초 주기)
- 역할별 맞춤 정보 제공
- 모바일 반응형 디자인
- 다크모드 지원 (선택)

---

### 4.6 출하 등록 (거래처 확인)

#### 4.6.1 기능 설명

거래처가 제품을 수령하고 확인하는 기능

#### 4.6.2 상세 요구사항

- **출하 내역 조회**

  - 본사 발주 주문 중 출하 완료된 목록
  - 배송 중인 목록
  - 수령 대기 목록

- **수령 확인**

  - 제품 도착 확인
  - 수량 검수
  - 품질 확인
  - 수령 시간 기록
  - 전자서명 또는 사진 첨부

- **이상 사항 보고**
  - 수량 불일치 보고
  - 파손/불량 보고
  - 기타 이슈 등록
  - 반품 요청

**사용자 스토리**:

> **As a** 거래처 담당자  
> **I want to** 제품을 수령하고 확인하여  
> **So that** 주문이 정확히 완료되었음을 확인할 수 있다

---

### 4.7 주문 상세 조회

#### 4.7.1 기능 설명

주문의 전체 라이프사이클을 상세 조회

#### 4.7.2 상세 요구사항

- **주문 마스터 정보**
  - 주문번호, 주문일자, 거래처, 상태 등
- **주문 상세 정보**
  - 품목별 주문 수량, 단가, 금액
- **입고 내역**
  - 입고 일자, 수량, 로케이션
- **품질 검사 내역**
  - 검사 일자, 합격/불합격, 불량 내역
- **출하 내역**
  - 출하 일자, 수량, 배송 정보
- **이력 추적**
  - 시간순 전체 이력 표시

---

## 5. 데이터 모델

### 5.1 데이터베이스 스키마

#### 5.1.1 users (사용자)

| 컬럼명        | 타입     | 제약조건         | 설명                                                      |
| ------------- | -------- | ---------------- | --------------------------------------------------------- |
| user_id       | TEXT     | PK               | 사용자 ID (UUID)                                          |
| username      | TEXT     | UNIQUE, NOT NULL | 사용자명 (로그인 ID)                                      |
| password_hash | TEXT     | NOT NULL         | 비밀번호 해시 (bcrypt)                                    |
| role          | TEXT     | NOT NULL         | 역할 (발주사/주문담당자/제조담당자/품질담당자/물류담당자) |
| company_name  | TEXT     | NULL             | 회사명 (거래처명)                                         |
| email         | TEXT     | NULL             | 이메일                                                    |
| phone         | TEXT     | NULL             | 연락처                                                    |
| is_active     | BOOLEAN  | DEFAULT TRUE     | 활성 상태                                                 |
| created_at    | DATETIME | NOT NULL         | 생성일시                                                  |
| updated_at    | DATETIME | NULL             | 수정일시                                                  |

#### 5.1.2 item_master (품목 마스터)

| 컬럼명       | 타입          | 제약조건     | 설명          |
| ------------ | ------------- | ------------ | ------------- |
| item_code    | TEXT          | PK           | 품목코드      |
| item_name    | TEXT          | NOT NULL     | 품목명        |
| item_spec    | TEXT          | NULL         | 규격          |
| item_type    | TEXT          | NULL         | 품목 유형     |
| unit         | TEXT          | DEFAULT 'EA' | 단위          |
| std_price    | NUMERIC(10,2) | NULL         | 표준 단가     |
| lead_time    | INTEGER       | NULL         | 리드타임 (일) |
| safety_stock | INTEGER       | DEFAULT 0    | 안전재고      |
| is_active    | BOOLEAN       | DEFAULT TRUE | 사용 여부     |
| created_at   | DATETIME      | NOT NULL     | 생성일시      |
| updated_at   | DATETIME      | NULL         | 수정일시      |

#### 5.1.3 order_master (주문 마스터)

| 컬럼명           | 타입          | 제약조건       | 설명                                           |
| ---------------- | ------------- | -------------- | ---------------------------------------------- |
| order_no         | TEXT          | PK             | 주문번호 (ORD-YYYY-MMDD-NNN)                   |
| order_date       | DATE          | NOT NULL       | 주문일자                                       |
| order_type       | TEXT          | NOT NULL       | 주문구분 (긴급/일반)                           |
| customer_company | TEXT          | NOT NULL       | 거래처                                         |
| customer_code    | TEXT          | NULL           | 거래처 코드                                    |
| delivery_address | TEXT          | NULL           | 납품 주소                                      |
| request_date     | DATE          | NULL           | 납품 요청일                                    |
| status           | TEXT          | DEFAULT '대기' | 상태 (대기/승인/생산중/입고완료/출하완료/거부) |
| priority         | INTEGER       | DEFAULT 5      | 우선순위 (1~9, 낮을수록 높음)                  |
| total_amount     | NUMERIC(15,2) | DEFAULT 0      | 총 주문금액                                    |
| approved_by      | TEXT          | NULL           | 승인자                                         |
| approved_at      | DATETIME      | NULL           | 승인일시                                       |
| reject_reason    | TEXT          | NULL           | 거부 사유                                      |
| remarks          | TEXT          | NULL           | 특이사항                                       |
| created_by       | TEXT          | NOT NULL       | 등록자                                         |
| created_at       | DATETIME      | NOT NULL       | 등록일시                                       |
| updated_by       | TEXT          | NULL           | 수정자                                         |
| updated_at       | DATETIME      | NULL           | 수정일시                                       |

#### 5.1.4 order_detail (주문 상세)

| 컬럼명                | 타입          | 제약조건     | 설명                   |
| --------------------- | ------------- | ------------ | ---------------------- |
| order_no              | TEXT          | PK, FK       | 주문번호               |
| order_seq             | INTEGER       | PK           | 주문 순번 (1부터 시작) |
| item_code             | TEXT          | NOT NULL, FK | 품목코드               |
| item_name             | TEXT          | NOT NULL     | 품목명                 |
| item_spec             | TEXT          | NULL         | 규격                   |
| order_qty             | INTEGER       | NOT NULL     | 주문수량               |
| unit_price            | NUMERIC(10,2) | NOT NULL     | 단가                   |
| amount                | NUMERIC(15,2) | NOT NULL     | 금액 (주문수량 × 단가) |
| shipping_qty          | INTEGER       | DEFAULT 0    | 출하수량               |
| shipping_amount       | NUMERIC(15,2) | DEFAULT 0    | 출하금액               |
| planned_shipping_date | DATE          | NULL         | 출하예정일             |
| actual_shipping_date  | DATE          | NULL         | 실제 출하일자          |
| remarks               | TEXT          | NULL         | 비고                   |

#### 5.1.5 production_plan (생산 계획)

| 컬럼명             | 타입     | 제약조건           | 설명                       |
| ------------------ | -------- | ------------------ | -------------------------- |
| plan_id            | INTEGER  | PK, AUTO_INCREMENT | 계획 ID                    |
| order_no           | TEXT     | FK                 | 주문번호                   |
| order_seq          | INTEGER  | NOT NULL           | 주문 순번                  |
| planned_start_date | DATE     | NOT NULL           | 계획 시작일                |
| planned_end_date   | DATE     | NOT NULL           | 계획 종료일                |
| planned_qty        | INTEGER  | NOT NULL           | 계획 수량                  |
| work_center        | TEXT     | NULL               | 작업장                     |
| status             | TEXT     | DEFAULT '계획'     | 상태 (계획/실행/완료/취소) |
| created_by         | TEXT     | NOT NULL           | 등록자                     |
| created_at         | DATETIME | NOT NULL           | 등록일시                   |

#### 5.1.6 production_result (생산 실적)

| 컬럼명          | 타입     | 제약조건           | 설명      |
| --------------- | -------- | ------------------ | --------- |
| result_id       | INTEGER  | PK, AUTO_INCREMENT | 실적 ID   |
| plan_id         | INTEGER  | FK                 | 계획 ID   |
| order_no        | TEXT     | FK                 | 주문번호  |
| order_seq       | INTEGER  | NOT NULL           | 주문 순번 |
| production_date | DATE     | NOT NULL           | 생산일자  |
| production_qty  | INTEGER  | NOT NULL           | 생산 수량 |
| good_qty        | INTEGER  | DEFAULT 0          | 양품 수량 |
| defect_qty      | INTEGER  | DEFAULT 0          | 불량 수량 |
| work_center     | TEXT     | NULL               | 작업장    |
| worker          | TEXT     | NULL               | 작업자    |
| start_time      | DATETIME | NULL               | 시작 시간 |
| end_time        | DATETIME | NULL               | 종료 시간 |
| created_by      | TEXT     | NOT NULL           | 등록자    |
| created_at      | DATETIME | NOT NULL           | 등록일시  |

#### 5.1.7 quality_inspection (품질 검사)

| 컬럼명          | 타입     | 제약조건           | 설명                    |
| --------------- | -------- | ------------------ | ----------------------- |
| inspection_id   | INTEGER  | PK, AUTO_INCREMENT | 검사 ID                 |
| order_no        | TEXT     | FK                 | 주문번호                |
| order_seq       | INTEGER  | NOT NULL           | 주문 순번               |
| result_id       | INTEGER  | FK                 | 생산 실적 ID            |
| inspection_date | DATE     | NOT NULL           | 검사일자                |
| inspection_type | TEXT     | NOT NULL           | 검사 유형 (전수/샘플링) |
| inspection_qty  | INTEGER  | NOT NULL           | 검사 수량               |
| pass_qty        | INTEGER  | DEFAULT 0          | 합격 수량               |
| fail_qty        | INTEGER  | DEFAULT 0          | 불합격 수량             |
| defect_type     | TEXT     | NULL               | 불량 유형               |
| defect_detail   | TEXT     | NULL               | 불량 상세               |
| judgment        | TEXT     | NOT NULL           | 판정 (합격/불합격)      |
| inspector       | TEXT     | NOT NULL           | 검사자                  |
| remarks         | TEXT     | NULL               | 비고                    |
| created_at      | DATETIME | NOT NULL           | 등록일시                |

#### 5.1.8 warehouse (창고 입고)

| 컬럼명        | 타입     | 제약조건           | 설명                               |
| ------------- | -------- | ------------------ | ---------------------------------- |
| warehouse_id  | INTEGER  | PK, AUTO_INCREMENT | 입고 ID                            |
| order_no      | TEXT     | FK                 | 주문번호                           |
| order_seq     | INTEGER  | NOT NULL           | 주문 순번                          |
| item_code     | TEXT     | NOT NULL, FK       | 품목코드                           |
| item_name     | TEXT     | NOT NULL           | 품목명                             |
| received_qty  | INTEGER  | NOT NULL           | 입고수량                           |
| received_date | DATE     | NOT NULL           | 입고일자                           |
| location_code | TEXT     | NULL               | 로케이션 코드 (창고-Zone-Rack-Bin) |
| lot_no        | TEXT     | NULL               | 로트 번호                          |
| inspection_id | INTEGER  | FK                 | 품질 검사 ID                       |
| received_by   | TEXT     | NOT NULL           | 입고자                             |
| remarks       | TEXT     | NULL               | 비고                               |
| created_at    | DATETIME | NOT NULL           | 등록일시                           |

#### 5.1.9 inventory (재고 현황)

| 컬럼명        | 타입     | 제약조건           | 설명                  |
| ------------- | -------- | ------------------ | --------------------- |
| inventory_id  | INTEGER  | PK, AUTO_INCREMENT | 재고 ID               |
| item_code     | TEXT     | NOT NULL, FK       | 품목코드              |
| location_code | TEXT     | NOT NULL           | 로케이션 코드         |
| lot_no        | TEXT     | NULL               | 로트 번호             |
| available_qty | INTEGER  | DEFAULT 0          | 가용 수량             |
| allocated_qty | INTEGER  | DEFAULT 0          | 할당 수량 (출하 계획) |
| on_hand_qty   | INTEGER  | DEFAULT 0          | 현재고                |
| last_updated  | DATETIME | NOT NULL           | 최종 업데이트         |

#### 5.1.10 shipping_plan (출하 계획)

| 컬럼명                | 타입     | 제약조건           | 설명                           |
| --------------------- | -------- | ------------------ | ------------------------------ |
| plan_id               | INTEGER  | PK, AUTO_INCREMENT | 계획 ID                        |
| order_no              | TEXT     | FK                 | 주문번호                       |
| order_seq             | INTEGER  | NOT NULL           | 주문 순번                      |
| planned_shipping_date | DATE     | NOT NULL           | 출하예정일                     |
| planned_qty           | INTEGER  | NOT NULL           | 계획 수량                      |
| delivery_method       | TEXT     | NULL               | 배송 방법 (택배/차량/특송)     |
| delivery_address      | TEXT     | NULL               | 배송 주소                      |
| status                | TEXT     | DEFAULT '계획'     | 상태 (계획/피킹/패킹/출고완료) |
| created_by            | TEXT     | NOT NULL           | 등록자                         |
| created_at            | DATETIME | NOT NULL           | 등록일시                       |
| updated_at            | DATETIME | NULL               | 수정일시                       |

#### 5.1.11 shipping_execution (출하 실행)

| 컬럼명               | 타입     | 제약조건           | 설명                        |
| -------------------- | -------- | ------------------ | --------------------------- |
| execution_id         | INTEGER  | PK, AUTO_INCREMENT | 실행 ID                     |
| plan_id              | INTEGER  | FK                 | 출하 계획 ID                |
| order_no             | TEXT     | FK                 | 주문번호                    |
| order_seq            | INTEGER  | NOT NULL           | 주문 순번                   |
| actual_shipping_date | DATE     | NOT NULL           | 실제 출하일                 |
| actual_qty           | INTEGER  | NOT NULL           | 실제 출하 수량              |
| picking_time         | DATETIME | NULL               | 피킹 시간                   |
| packing_time         | DATETIME | NULL               | 패킹 시간                   |
| loading_time         | DATETIME | NULL               | 적재 시간                   |
| delivery_start_time  | DATETIME | NULL               | 배송 시작 시간              |
| delivery_end_time    | DATETIME | NULL               | 배송 완료 시간              |
| vehicle_no           | TEXT     | NULL               | 차량 번호                   |
| driver               | TEXT     | NULL               | 운전자                      |
| tracking_no          | TEXT     | NULL               | 송장 번호                   |
| status               | TEXT     | DEFAULT '출고'     | 상태 (출고/배송중/배송완료) |
| executed_by          | TEXT     | NOT NULL           | 실행자                      |
| created_at           | DATETIME | NOT NULL           | 등록일시                    |

#### 5.1.12 delivery_confirmation (배송 확인)

| 컬럼명             | 타입     | 제약조건           | 설명                                       |
| ------------------ | -------- | ------------------ | ------------------------------------------ |
| confirmation_id    | INTEGER  | PK, AUTO_INCREMENT | 확인 ID                                    |
| execution_id       | INTEGER  | FK                 | 출하 실행 ID                               |
| order_no           | TEXT     | FK                 | 주문번호                                   |
| received_date      | DATE     | NOT NULL           | 수령 일자                                  |
| received_time      | DATETIME | NULL               | 수령 시간                                  |
| receiver_name      | TEXT     | NULL               | 수령자 이름                                |
| receiver_signature | TEXT     | NULL               | 전자서명 (이미지 경로)                     |
| photo_path         | TEXT     | NULL               | 사진 경로                                  |
| issue_type         | TEXT     | NULL               | 이슈 유형 (정상/수량불일치/파손/불량/기타) |
| issue_detail       | TEXT     | NULL               | 이슈 상세                                  |
| confirmed_by       | TEXT     | NOT NULL           | 확인자 (거래처 담당자)                     |
| created_at         | DATETIME | NOT NULL           | 등록일시                                   |

#### 5.1.13 system_log (시스템 로그)

| 컬럼명      | 타입     | 제약조건           | 설명                                      |
| ----------- | -------- | ------------------ | ----------------------------------------- |
| log_id      | INTEGER  | PK, AUTO_INCREMENT | 로그 ID                                   |
| log_type    | TEXT     | NOT NULL           | 로그 유형 (주문/승인/생산/품질/입고/출하) |
| action      | TEXT     | NOT NULL           | 액션 (등록/수정/삭제/승인/거부/완료)      |
| target_id   | TEXT     | NULL               | 대상 ID (주문번호 등)                     |
| user_id     | TEXT     | NULL               | 사용자 ID                                 |
| description | TEXT     | NULL               | 설명                                      |
| created_at  | DATETIME | NOT NULL           | 발생일시                                  |

---

### 5.2 데이터 흐름 상세

```
[거래처] 주문 등록
    ↓ (HQ 전송)
[HQ] 주문 수신 및 통합 관리
    ↓
[주문담당자] 주문 승인 + 우선순위 설정
    ↓ (ERP 연동)
[ERP] 자재 가용성 확인 + 장애계산
    ↓ (MRP 연동)
[MRP] 생산 계획 자동 생성 (자재소요계획)
    ↓ (MES 연동)
[MES] 생산 실행 + 실시간 생산 실적 수집
    ↓ (QMS 연동)
[QMS] 품질 검사 + 합격/불합격 판정
    ↓ (합격품만)
[제조담당자] 생산 완료 → 입고 등록 (WMS)
    ↓
[WMS] 재고 관리 + 로케이션 관리
    ↓
[주문담당자] 재고 확인 → 출하 계획 수립
    ↓ (출하 지시 생성)
[물류센터] 피킹 → 패킹 → 출고 → 배송
    ↓ (배송 추적)
[거래처] 수령 확인 + 검수
    ↓
[주문담당자] 출하 완료 처리 + 정산 (ERP)
    ↓
[완료]
```

---

## 6. 기술 스택

### 6.1 프론트엔드

- **프레임워크**: Streamlit 1.52.0+
- **UI 컴포넌트**: Streamlit 기본 컴포넌트
- **스타일링**: 커스텀 CSS (.streamlit/style.css)
- **차트**: Streamlit 내장 차트 (Bar, Line, Area)
- **반응형**: Streamlit 기본 반응형 레이아웃

### 6.2 백엔드

- **언어**: Python 3.12+
- **프레임워크**: Streamlit (풀스택)
- **ORM**: SQLAlchemy 2.0+
- **데이터베이스**:
  - SQLite (개발/테스트)
  - PostgreSQL (프로덕션 권장)

### 6.3 데이터 처리

- **엑셀 처리**:
  - pandas 2.0+
  - openpyxl 3.1.0+
- **날짜 처리**: python-dateutil 2.8.0+
- **데이터 검증**: 커스텀 validators

### 6.4 보안

- **인증**: 세션 기반 (Streamlit session_state)
- **비밀번호 해싱**: bcrypt 4.0.0+
- **권한 관리**: 역할 기반 접근 제어 (RBAC)
- **SQL 인젝션 방지**: SQLAlchemy ORM 사용

### 6.5 외부 시스템 연동

- **HQ 연동**: REST API / EDI
- **ERP 연동**: REST API
- **MRP 연동**: REST API
- **MES 연동**: REST API / MQTT (실시간)
- **QMS 연동**: REST API
- **WMS 연동**: REST API
- **물류센터 연동**: EDI / REST API

### 6.6 테스트

- **테스트 프레임워크**: pytest 7.4.0+
- **커버리지**: pytest-cov 4.1.0+
- **E2E 테스트**: pytest-playwright 0.4.0+
- **통합 테스트**: 커스텀 시나리오 기반

### 6.7 배포 및 운영

- **컨테이너**: Docker (선택)
- **웹서버**: Streamlit 내장 서버
- **배포**:
  - Streamlit Cloud (개발/데모)
  - AWS/Azure/GCP (프로덕션)
- **모니터링**:
  - 시스템 로그
  - 성능 모니터링 (선택)

---

## 7. 비기능 요구사항

### 7.1 성능

- **페이지 로딩 시간**: 2초 이내
- **데이터베이스 쿼리**: 500ms 이내
- **엑셀 파일 처리**: 10MB 이하 파일 5초 이내 처리
- **API 응답 시간**: 1초 이내
- **실시간 데이터 업데이트**: 5초 주기
- **동시 접속자**: 100명 이상 지원

### 7.2 보안

- **비밀번호 정책**:
  - 최소 8자 이상
  - bcrypt 해싱
- **SQL 인젝션 방지**: SQLAlchemy ORM 사용
- **역할 기반 접근 제어 (RBAC)**:
  - 페이지별 권한 검증
  - 데이터 접근 권한 제한
- **입력 데이터 검증**:
  - 클라이언트/서버 이중 검증
  - XSS 방지
- **세션 관리**:
  - 세션 타임아웃: 8시간
  - 안전한 세션 저장
- **감사 로그**:
  - 모든 중요 액션 로깅
  - 로그 보존 기간: 1년

### 7.3 사용성

- **직관적인 UI/UX**:
  - 역할별 맞춤 화면
  - 일관된 디자인 시스템
  - 이모지 및 색상 활용
- **명확한 오류 메시지**:
  - 사용자 친화적 메시지
  - 해결 방법 제시
- **반응형 레이아웃**:
  - 데스크톱 최적화
  - 모바일 지원 (선택)
- **도움말 및 가이드**:
  - 툴팁 제공
  - 사용자 매뉴얼

### 7.4 호환성

- **Python 버전**: 3.12 이상
- **웹 브라우저**:
  - Chrome (최신 버전)
  - Firefox (최신 버전)
  - Safari (최신 버전)
  - Edge (최신 버전)
- **모바일 브라우저**: iOS Safari, Chrome (선택)
- **데이터베이스**: SQLite, PostgreSQL, MySQL

### 7.5 확장성

- **다중 사용자 동시 접속**: 100명 이상
- **데이터베이스 확장**:
  - SQLite → PostgreSQL 마이그레이션 지원
  - 샤딩 고려 (장기)
- **API 연동 가능 구조**:
  - REST API 지원
  - Webhook 지원
- **모듈화 설계**:
  - 독립적인 서비스 모듈
  - 플러그인 방식 확장 가능

### 7.6 가용성

- **시스템 가동률**: 99% 이상
- **백업**:
  - 데이터베이스 일일 백업
  - 백업 보존 기간: 30일
- **장애 복구**:
  - 자동 재시도 로직
  - 수동 복구 절차 문서화
- **에러 처리**:
  - Graceful degradation
  - 사용자 친화적 에러 페이지

### 7.7 유지보수성

- **코드 품질**:
  - PEP 8 준수
  - 타입 힌팅 활용
  - 주석 및 문서화
- **테스트 커버리지**: 80% 이상
- **로깅**:
  - 상세한 로그 기록
  - 로그 레벨 관리
- **모니터링**:
  - 시스템 성능 모니터링
  - 에러 추적

---

## 8. 제약사항 및 가정

### 8.1 제약사항

- **Streamlit 기반**:
  - 실시간 양방향 통신 제한
  - 페이지 새로고침 필요
- **SQLite 사용 시**:
  - 동시성 제한 (프로덕션에서는 PostgreSQL 권장)
  - 트랜잭션 성능 제한
- **엑셀 파일 크기**: 10MB 이하
- **외부 시스템 연동**:
  - 네트워크 의존성
  - 타임아웃 고려 필요

### 8.2 가정

- **사용자 교육**:
  - 사용자는 기본적인 웹 브라우저 사용 능력 보유
  - 초기 교육 제공
- **네트워크 환경**:
  - 안정적인 네트워크 연결
  - 최소 10Mbps 이상
- **외부 시스템 안정성**:
  - HQ, ERP, MRP, MES, QMS, WMS 시스템이 정상 운영
  - API 응답 시간 1초 이내
- **데이터 백업**:
  - 별도 백업 시스템 운영
  - 백업 정책 수립

---

## 9. 우선순위

### 9.1 필수 기능 (Must Have) - Phase 1

1. **주문 관리**
   - 주문 등록 (수동 + 엑셀 업로드)
   - 주문 승인 및 거부
   - 우선순위 설정
2. **입고 관리**
   - 입고 등록
   - 재고 현황 조회
3. **출하 관리**
   - 출하 계획 수립
   - 출하 완료 처리
4. **사용자 인증 및 권한 관리**
   - 로그인/로그아웃
   - 역할 기반 접근 제어
5. **대시보드**
   - 역할별 맞춤형 대시보드
   - 주요 KPI 표시

### 9.2 중요 기능 (Should Have) - Phase 2

1. **생산 관리**
   - MRP 생산 계획 수립
   - MES 생산 실적 수집
   - 품질 검사 (QMS)
2. **외부 시스템 연동**
   - HQ 연동
   - ERP 연동
   - WMS 연동
3. **고급 검색 및 필터링**
   - 주문 상태별 필터링
   - 거래처별 필터링
   - 날짜 범위 검색
4. **이력 추적**
   - 주문 라이프사이클 추적
   - 입고/출하 이력 조회
   - 시스템 로그

### 9.3 선택 기능 (Nice to Have) - Phase 3

1. **알림 시스템**
   - 이메일 알림
   - SMS 알림 (선택)
   - 인앱 알림
2. **보고서 생성**
   - PDF 보고서
   - 엑셀 다운로드
   - 커스텀 보고서
3. **고급 분석**
   - 생산 효율 분석
   - 품질 통계 분석
   - 재고 회전율 분석
4. **모바일 최적화**
   - 모바일 반응형 디자인
   - 모바일 전용 기능
5. **다국어 지원**
   - 한국어/영어
   - 언어 전환 기능

### 9.4 미래 기능 (Future) - Phase 4+

1. **AI/ML 기능**
   - 수요 예측
   - 최적 재고 수준 추천
   - 이상 탐지
2. **자동화**
   - 자동 주문 승인 (조건 기반)
   - 자동 출하 계획 생성
   - 자동 재주문
3. **고급 연동**
   - IoT 센서 연동
   - 블록체인 추적
   - 외부 물류사 API 연동
4. **협업 기능**
   - 실시간 채팅
   - 파일 공유
   - 댓글 및 태스크 관리

---

## 10. 성공 지표 (KPI)

### 10.1 효율성 지표

- **주문 처리 시간 단축**: 50% 이상
  - 현재: 평균 4시간 → 목표: 2시간 이내
- **수동 입력 오류 감소**: 80% 이상
  - 엑셀 업로드 및 자동 검증으로 오류 최소화
- **주문 승인 대기 시간 단축**: 30% 이상
  - 실시간 알림 및 우선순위 관리
- **재고 정확도 향상**: 95% → 99% 이상
  - 실시간 재고 추적 및 로케이션 관리
- **출하 리드타임 단축**: 20% 이상
  - 출하 계획 최적화 및 자동화

### 10.2 품질 지표

- **품질 합격률 향상**: 5% 이상
  - 실시간 품질 데이터 수집 및 분석
- **불량률 감소**: 30% 이상
  - 품질 검사 강화 및 불량 원인 분석
- **고객 불만 감소**: 40% 이상
  - 정확한 납기 준수 및 품질 관리

### 10.3 사용성 지표

- **사용자 만족도**: 4.0/5.0 이상
  - 사용자 설문조사 기반
- **시스템 가동률**: 99% 이상
  - 월별 다운타임 최소화
- **오류 발생률**: 1% 이하
  - 시스템 에러 및 버그 최소화
- **사용자 교육 시간 단축**: 50% 이상
  - 직관적인 UI/UX 설계

### 10.4 비즈니스 지표

- **주문 처리량 증가**: 30% 이상
  - 시스템 자동화로 처리 능력 향상
- **재고 회전율 향상**: 20% 이상
  - 효율적인 재고 관리
- **출하 지연 감소**: 50% 이상
  - 실시간 출하 계획 및 추적
- **운영 비용 절감**: 25% 이상
  - 인력 및 시간 절약
- **고객 만족도 향상**: 15% 이상
  - 정확한 납기 및 품질 보증

### 10.5 시스템 성능 지표

- **페이지 로딩 시간**: 평균 1.5초 이하
- **API 응답 시간**: 평균 500ms 이하
- **동시 접속자 처리**: 100명 이상 안정적 운영
- **데이터베이스 쿼리 성능**: 평균 300ms 이하

---

## 11. 향후 개선 사항

### 11.1 단기 (3개월)

1. **알림 시스템 구축**
   - 이메일 알림 (주문 승인, 출하 완료 등)
   - 인앱 알림 센터
2. **보고서 생성 기능**
   - 주문 현황 보고서
   - 생산 실적 보고서
   - 품질 통계 보고서
3. **모바일 최적화**
   - 모바일 반응형 레이아웃 개선
   - 모바일 전용 화면
4. **검색 기능 강화**
   - 통합 검색
   - 고급 필터링

### 11.2 중기 (6개월)

1. **외부 시스템 연동 확대**
   - 물류사 API 연동
   - 거래처 포털 연동
2. **고급 분석 기능**
   - 생산 효율 분석
   - 품질 트렌드 분석
   - 재고 최적화 분석
3. **자동화 확대**
   - 자동 주문 승인 (조건 기반)
   - 자동 출하 계획 생성
4. **협업 기능**
   - 댓글 및 메모
   - 파일 첨부

### 11.3 장기 (1년)

1. **AI 기반 수요 예측**
   - 머신러닝 모델 개발
   - 과거 데이터 기반 예측
2. **자동 재고 관리**
   - 안전재고 자동 계산
   - 자동 재주문
3. **IoT 센서 연동**
   - 실시간 생산 모니터링
   - 설비 가동률 추적
4. **다국어 지원**
   - 영어 지원
   - 언어 전환 기능
5. **고급 대시보드**
   - 커스터마이징 가능한 대시보드
   - 실시간 차트 및 그래프

---

## 12. 부록

### 12.1 용어 정의

- **SCM**: Supply Chain Management (공급망 관리)
- **HQ**: Headquarters (본사 통합 관리 시스템)
- **ERP**: Enterprise Resource Planning (전사적 자원관리)
- **MRP**: Material Requirements Planning (자재소요계획)
- **MES**: Manufacturing Execution System (제조실행시스템)
- **QMS**: Quality Management System (품질관리시스템)
- **WMS**: Warehouse Management System (창고관리시스템)
- **주문 마스터**: 주문의 기본 정보 (헤더)
- **주문 상세**: 주문에 포함된 품목별 정보 (라인)
- **입고**: 생산 완료된 제품을 창고에 등록하는 과정
- **출하**: 창고에서 거래처로 제품을 보내는 과정
- **로케이션**: 창고 내 구체적인 보관 위치
- **로트**: 생산 단위별 추적 번호
- **FEFO**: First Expired, First Out (유통기한 우선 출고)
- **BOM**: Bill of Materials (자재 명세서)
- **리드타임**: 주문부터 납품까지 소요 시간

### 12.2 시스템 약어

- **ORD**: Order (주문)
- **PRD**: Production (생산)
- **INV**: Inventory (재고)
- **SHP**: Shipping (출하)
- **QC**: Quality Control (품질 관리)
- **EA**: Each (개)
- **LOT**: Lot (로트)
- **SKU**: Stock Keeping Unit (재고관리단위)

### 12.3 참고 문서

- **Streamlit 공식 문서**: https://docs.streamlit.io/
- **SQLAlchemy 공식 문서**: https://docs.sqlalchemy.org/
- **프로젝트 README.md**: 설치 및 실행 가이드
- **테스트 가이드**: tests/README.md
- **API 문서**: API 연동 가이드 (별도 문서)

### 12.4 시스템 구성도 참조

- **워크플로우 다이어그램**: 첨부된 화이트보드 이미지 참조
- **시스템 아키텍처**: 본 문서 섹션 2.1 참조
- **데이터 흐름도**: 본 문서 섹션 2.2, 5.2 참조

### 12.5 연락처

- **프로젝트 관리자**: [연락처 정보]
- **기술 지원**: [연락처 정보]
- **긴급 문의**: [연락처 정보]

---

## 13. 변경 이력

| 버전 | 일자       | 작성자 | 변경 내용                                                                   |
| ---- | ---------- | ------ | --------------------------------------------------------------------------- |
| 1.0  | 2024년     | 개발팀 | 초기 버전 작성                                                              |
| 2.0  | 2025-12-18 | 개발팀 | 워크플로우 기반 전면 개정 - HQ, ERP, MRP, MES, QMS, WMS, 물류센터 연동 추가 |

---

**문서 버전**: 2.0  
**최종 수정일**: 2025-12-18  
**승인자**: [승인자 정보]  
**다음 리뷰 예정일**: 2025-06-18

---

## 14. 첨부 자료

1. **워크플로우 다이어그램**: 화이트보드 스케치 (제공된 이미지)
2. **시스템 아키텍처 다이어그램**: 본 문서 포함
3. **데이터베이스 ERD**: 별도 문서
4. **API 명세서**: 별도 문서
5. **사용자 매뉴얼**: 별도 문서
